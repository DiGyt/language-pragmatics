(function(e){function t(t){for(var a,o,i=t[0],c=t[1],l=t[2],p=0,d=[];p<i.length;p++)o=i[p],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(d.length)d.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,i=1;i<n.length;i++){var c=n[i];0!==r[c]&&(a=!1)}a&&(s.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={app:0},s=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1:function(e,t){},2:function(e,t){},"362e":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);var a=n("2b0e"),r=n("3665"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Experiment",{attrs:{id:"test1234"},scopedSlots:e._u([{key:"title",fn:function(){return[n("div",[e._v("Interactive experiment")])]},proxy:!0},{key:"screens",fn:function(){return[n("Screen",{attrs:{title:"Welcome"}},[e._v(" Welcome to our experiment. "),n("br"),n("br"),e._v(" We are so happy you joined. "),n("br"),n("br"),e._v(" Usually, nobody ever plays with us. But now you are here. "),n("br"),e._v(" Yay! We will have so much fun together :))) "),n("button",{on:{click:function(t){return e.$magpie.nextScreen()}}},[e._v("Begin the experiment")])]),n("Screen",{attrs:{title:"General Instructions"}},[e._v(" In this experiment, you will be able to have a real-time discussion with a chat partner. Your discussion will be about the behavior of a soccer club (Exampleton FC) during the last season. In the table below you can see descriptive statistics on the fairness behavior of multiple soccer clubs during the last season. During your discussion with your chat partner you will be able to inspect such a table, and use its information as a basis for your arguments. "),n("br"),n("br"),n("AltTable",{attrs:{content:e.trial.content[0]}}),n("br"),e._v(" Note that you can sort the table in descending or ascending order by clicking on the names in the head row. "),n("button",{on:{click:function(t){e.$magpie.nextScreen(),e.$magpie.addResult({question:"condition",answer:parseInt(e.$magpie.socket.variant)-1})}}},[e._v(" to the practice trial ")])],1),n("Screen",{attrs:{title:"Pretest"},scopedSlots:e._u([{key:"0",fn:function(t){var a=t.responses;return[n("AltTable",{attrs:{content:e.trial.content[parseInt(e.$magpie.socket.chain)]}}),n("p",[e._v("How fair did Exampleton FC play during the last season?")]),n("SliderInput",{attrs:{left:"Very Unfair",right:"Very Fair",initial:"50",response:a.slider},on:{"update:response":function(t){return e.$set(a,"slider",t)}}}),n("button",{on:{click:function(t){e.$magpie.addResult({question:"pre",answer:a.slider}),e.$magpie.nextScreen()}}},[e._v("Continue")])]}}])}),n("ConnectInteractive"),n("Screen",[n("AltTable",{attrs:{content:e.trial.content[parseInt(e.$magpie.socket.chain)]}}),n("p",[e._v(e._s(e.trial.conditions[parseInt(e.$magpie.socket.variant)-1]))]),n("AltChat"),n("button",{on:{click:function(t){e.$magpie.nextScreen(),e.submit_chat()}}},[e._v("Leave Chat")])],1),n("Screen",{attrs:{title:"Posttest"},scopedSlots:e._u([{key:"0",fn:function(t){var a=t.responses;return[n("AltTable",{attrs:{content:e.trial.content[parseInt(e.$magpie.socket.chain)]}}),n("p",[e._v("How fair did Exampleton FC play during the last season?")]),n("SliderInput",{attrs:{left:"Very Unfair",right:"Very Fair",initial:"50",response:a.slider},on:{"update:response":function(t){return e.$set(a,"slider",t)}}}),n("button",{on:{click:function(t){e.$magpie.addResult({question:"post",answer:a.slider}),e.$magpie.nextScreen()}}},[e._v("Continue")])]}}])}),n("DebugResults"),n("Screen",{attrs:{title:"Thanks!"}},[e._v(" Goodbye ")])]},proxy:!0}])})},o=[],i=(n("2ef0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"AltChat"},[n("div",{ref:"box",staticClass:"chat-box",attrs:{id:"chatbox_1"}},e._l(e.messages,(function(t,a){return n("p",{key:a,class:{message:!0,me:t.participantId===e.$magpie.socket.participantId},attrs:{id:"prg"},domProps:{textContent:e._s(t.message)}})})),0),n("div",{staticClass:"notice-box"},[e._v(e._s(e.active))]),n("div",{staticClass:"chat-input"},[n("textarea",{ref:"text",attrs:{cols:"50",placeholder:"Type your message to the other participant here."},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.send(t)}}}),n("button",{on:{click:function(t){return t.stopPropagation(),e.send()},v:function(e){}}},[e._v(" Send ")])])])}),c=[];const l="chat_message",u="inactive";var p={name:"AltChat",data(){return{messages:[],statusMonitor:{},active:"Your chat partner has not yet entered the chat."}},socket:{[l](e){this.messages.push(e),a["default"].nextTick(()=>{this.$refs.box.scrollTop=this.$refs.box.scrollHeight}),this.$emit("update:messages",this.messages)},[u](e){this.statusMonitor[e.participantId]=e,this.$emit("update:statusMonitor",this.statusMonitor)}},EVENT_CHAT_MESSAGE:l,EVENT_CHAT_ACTIVE:u,created(){this.monitorActivity()},deactivated(){clearInterval(this.update)},methods:{send(){const e=this.$refs.text.value;e&&(this.$magpie.socket.broadcast(l,{message:e,participantId:this.$magpie.socket.participantId}),this.$refs.text.value="",this.$refs.text.focus())},monitorActivity(){this.update=setInterval(()=>{this.$magpie.socket.broadcast(u,{status:"active",participantId:this.$magpie.socket.participantId,lastUpdated:new Date});for(let[e,t]of Object.entries(this.statusMonitor))console.log(this.statusMonitor),e!=this.$magpie.socket.participantId&&"active"===t.status&&(new Date-new Date(t.lastUpdated)>15e3?this.active="Your chat partner has left the chat. Please click [leave chat] to finish the experiment.":this.active="Your chat partner is active"),console.log(this.active)},3e3)}}},d=p,h=(n("c520"),n("2877")),f=Object(h["a"])(d,i,c,!1,null,null,null),m=f.exports,v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.content?n("table",{staticClass:"table",attrs:{id:"myTable"}},[n("tr",e._l(e.content.head,(function(t,a){return n("th",{on:{click:function(t){return e.sortTable(a)}}},[e._v(" "+e._s(t)+" ")])})),0),e._l(e.content.data,(function(t){return n("tr",e._l(t,(function(t){return n("td",[e._v(" "+e._s(t)+" ")])})),0)}))],2):e._e()},b=[],g={name:"AltTable",props:["content"],methods:{sortTable(e){var t,n,a,r,s,o,i,c,l=0;t=document.getElementById("myTable"),a=!0,c="asc";while(a){for(a=!1,n=t.rows,r=1;r<n.length-1;r++){i=!1,s=n[r].getElementsByTagName("TD")[e].innerHTML.toLowerCase(),o=n[r+1].getElementsByTagName("TD")[e].innerHTML.toLowerCase();var u=isNaN(s)?s:parseInt(s),p=isNaN(o)?o:parseInt(o);if("asc"==c){if(u>p){i=!0;break}}else if("desc"==c&&u<p){i=!0;break}}i?(n[r].parentNode.insertBefore(n[r+1],n[r]),a=!0,l++):0==l&&"asc"==c&&(c="desc",a=!0)}}}},y=g,_=(n("ed05"),Object(h["a"])(y,v,b,!1,null,null,null)),x=_.exports;const k=23111995;function w(e){this._seed=e%2147483647,this._seed<=0&&(this._seed+=2147483646)}w.prototype.next=function(){return this._seed=16807*this._seed&4294967295,this._seed-1|0},w.prototype.nextFloat=function(){return Math.abs((this.next()-1)/2147483646)};var C=new w(k);function $(e,t,n,a){n="undefined"!==typeof n?n:0,a="undefined"!==typeof a?a:20;for(var r=[],s=0;s<t.length;s++){r.push([]),r[s][0]=t[s];for(var o=1;o<e.length;o++)r[s][o]=Math.floor(C.nextFloat()*a)+n}return{head:e,data:r}}var I=["Name","Fouls caused","Fouls received","Injuries caused","Injuries received","Referees attacked","starred Nutella commercials","People died during aftermatch parties"],T=["Exampleton FC","Grasshoppers ZÃ¼rich","FC Columbus","RM Anova"],E=[$(["Name","Fouls","Trick shots","Spit at people"],["Exampleton FC","Ludovigos United","Killer Club"]),$(I,T),$(I,T),$(I,T),$(I,T),$(I,T),$(I,T),$(I,T),$(I,T),$(I,T),$(I,T),$(I,T),$(I,T),$(I,T),$(I,T),$(I,T),$(I,T),$(I,T)];console.log(E);var S={name:"InteractiveExperiment",components:{AltChat:m,AltTable:x},data(){const e={conditions:["Convince your chat partner that Exampleton FC played unfair.","Convince your chat partner that Exampleton FC played fair."],content:E};return{trial:e}},methods:{submit_chat(){for(var e=[],t=0;t<document.getElementById("chatbox_1").children.length;t++){var n=document.getElementById("chatbox_1").children[t],a=n.textContent;e.push(a)}this.$magpie.addResult({question:"Chat messages",answer:e}),console.log(this.$magpie.socket)}}},A=S,j=Object(h["a"])(A,s,o,!1,null,null,null),M=j.exports,O={experimentId:"171",submissionUrl:"https://magpie-demo.herokuapp.com/api/submit_experiment/",socketUrl:"wss://magpie-demo.herokuapp.com/socket",contactEmail:"test@random.com"};a["default"].config.productionTip=!1,a["default"].use(r["a"],O),new a["default"]({render:e=>e(M)}).$mount("#app")},aafc:function(e,t,n){},c520:function(e,t,n){"use strict";n("362e")},ed05:function(e,t,n){"use strict";n("aafc")}});
//# sourceMappingURL=app.ebae0429.js.map